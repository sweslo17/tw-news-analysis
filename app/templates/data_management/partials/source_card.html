<!-- Source Statistics Card -->
<div class="bg-gray-50 rounded-lg p-4 border border-gray-200 hover:shadow-md transition-shadow">
    <div class="flex items-center justify-between mb-3">
        <h3 class="text-lg font-semibold text-gray-800">{{ stat.source }}</h3>
        <span class="px-2 py-1 text-xs rounded-full
            {% if stat.has_raw_html_count > 0 %}bg-green-100 text-green-700{% else %}bg-gray-100 text-gray-600{% endif %}">
            {% if stat.has_raw_html_count > 0 %}Active{% else %}Archived{% endif %}
        </span>
    </div>

    <div class="space-y-2 text-sm">
        <div class="flex justify-between">
            <span class="text-gray-600">Total Articles:</span>
            <span class="font-medium text-gray-800">{{ "{:,}".format(stat.total_count) }}</span>
        </div>
        <div class="flex justify-between">
            <span class="text-gray-600">Yesterday:</span>
            <span class="font-medium {% if stat.yesterday_count > 0 %}text-green-600{% else %}text-gray-500{% endif %}">
                +{{ "{:,}".format(stat.yesterday_count) }}
            </span>
        </div>
        <div class="flex justify-between">
            <span class="text-gray-600">Has Raw HTML:</span>
            <span class="font-medium text-blue-600">{{ "{:,}".format(stat.has_raw_html_count) }}</span>
        </div>
        <div class="flex justify-between">
            <span class="text-gray-600">Archived:</span>
            <span class="font-medium text-purple-600">{{ "{:,}".format(stat.archived_count) }}</span>
        </div>
    </div>

    <!-- Storage Indicator -->
    <div class="mt-3 pt-3 border-t border-gray-200">
        <div class="flex justify-between text-xs text-gray-500 mb-1">
            <span>Archive Progress</span>
            <span>
                {% set total = stat.has_raw_html_count + stat.archived_count %}
                {% if total > 0 %}
                    {{ ((stat.archived_count / total) * 100)|round(1) }}%
                {% else %}
                    0%
                {% endif %}
            </span>
        </div>
        <div class="w-full bg-gray-200 rounded-full h-2">
            {% set total = stat.has_raw_html_count + stat.archived_count %}
            {% set percent = ((stat.archived_count / total) * 100) if total > 0 else 0 %}
            <div class="bg-purple-500 h-2 rounded-full" style="width: {{ percent }}%"></div>
        </div>
    </div>
</div>
